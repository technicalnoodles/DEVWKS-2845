"use strict";(self.webpackChunkdevwks_2845_client=self.webpackChunkdevwks_2845_client||[]).push([[972],{3905:(e,t,r)=>{r.d(t,{Zo:()=>c,kt:()=>g});var a=r(7294);function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t){if(null==e)return{};var r,a,o=function(e,t){if(null==e)return{};var r,a,o={},n=Object.keys(e);for(a=0;a<n.length;a++)r=n[a],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(a=0;a<n.length;a++)r=n[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var p=a.createContext({}),s=function(e){var t=a.useContext(p),r=t;return e&&(r="function"==typeof e?e(t):i(i({},t),e)),r},c=function(e){var t=s(e.components);return a.createElement(p.Provider,{value:t},e.children)},k="mdxType",m={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},u=a.forwardRef((function(e,t){var r=e.components,o=e.mdxType,n=e.originalType,p=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),k=s(r),u=o,g=k["".concat(p,".").concat(u)]||k[u]||m[u]||n;return r?a.createElement(g,i(i({ref:t},c),{},{components:r})):a.createElement(g,i({ref:t},c))}));function g(e,t){var r=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var n=r.length,i=new Array(n);i[0]=u;var l={};for(var p in t)hasOwnProperty.call(t,p)&&(l[p]=t[p]);l.originalType=e,l[k]="string"==typeof e?e:o,i[1]=l;for(var s=2;s<n;s++)i[s]=r[s];return a.createElement.apply(null,i)}return a.createElement.apply(null,r)}u.displayName="MDXCreateElement"},7812:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>p,contentTitle:()=>i,default:()=>m,frontMatter:()=>n,metadata:()=>l,toc:()=>s});var a=r(7462),o=(r(7294),r(3905));const n={sidebar_position:2},i="Creating a Trigger and Automation Rule",l={unversionedId:"xdr-docs/create-a-trigger",id:"xdr-docs/create-a-trigger",title:"Creating a Trigger and Automation Rule",description:"Now we need to create a trigger, this will be what is used to make our workflow start automatically based on an event that is sent to the trigger.",source:"@site/docs/xdr-docs/02-create-a-trigger.mdx",sourceDirName:"xdr-docs",slug:"/xdr-docs/create-a-trigger",permalink:"/DEVWKS-2845/xdr-docs/create-a-trigger",draft:!1,editUrl:"https://cisco.com/docs/xdr-docs/02-create-a-trigger.mdx",tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2},sidebar:"tutorialSidebar",previous:{title:"Creating a Workflow",permalink:"/DEVWKS-2845/xdr-docs/xdr-integration"},next:{title:"Use Webhook Data",permalink:"/DEVWKS-2845/xdr-docs/update-workflow"}},p={},s=[{value:"Create a Webhook Trigger",id:"create-a-webhook-trigger",level:2},{value:"Create an Automation Rule",id:"create-an-automation-rule",level:2}],c={toc:s},k="wrapper";function m(e){let{components:t,...n}=e;return(0,o.kt)(k,(0,a.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"creating-a-trigger-and-automation-rule"},"Creating a Trigger and Automation Rule"),(0,o.kt)("p",null,"Now we need to create a trigger, this will be what is used to make our workflow start automatically based on an event that is sent to the trigger."),(0,o.kt)("h2",{id:"create-a-webhook-trigger"},"Create a Webhook Trigger"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Click on ",(0,o.kt)("strong",{parentName:"p"},"Back to all Workflows")," on the top left of the screen. Then go to ",(0,o.kt)("strong",{parentName:"p"},"Automate -> Triggers"),"\n",(0,o.kt)("img",{src:r(1819).Z,width:"668",height:"264"}))),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"On the ",(0,o.kt)("strong",{parentName:"p"},"Triggers")," page, click on ",(0,o.kt)("strong",{parentName:"p"},"Webhooks"),"\n",(0,o.kt)("img",{src:r(6646).Z,width:"1084",height:"542"}))),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Click on ",(0,o.kt)("strong",{parentName:"p"},"+ New Webhook"))),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"In the ",(0,o.kt)("strong",{parentName:"p"},"Display Name")," field, give it your station ID followed by ",(0,o.kt)("em",{parentName:"p"},"MerakiWF"),", ex: ",(0,o.kt)("em",{parentName:"p"},"19MerakiWF"))),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Click Save. There should be a new webhook in the list of webhooks. Click on yours.")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Copy the ",(0,o.kt)("strong",{parentName:"p"},"Webhook API Key")," and ",(0,o.kt)("strong",{parentName:"p"},"Webhook URL")," and save them in a text file. We will use these back in Meraki when we finish up here."))),(0,o.kt)("h2",{id:"create-an-automation-rule"},"Create an Automation Rule"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Go back to the ",(0,o.kt)("strong",{parentName:"p"},"Webhooks")," page and click on the ",(0,o.kt)("strong",{parentName:"p"},"Automation Rules")," tab.")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Click on ",(0,o.kt)("strong",{parentName:"p"},"+ Add Automation Rule")," on the right side of the page.")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Change the ",(0,o.kt)("strong",{parentName:"p"},"Type")," to ",(0,o.kt)("strong",{parentName:"p"},"Webhook Rule"))),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Change the ",(0,o.kt)("strong",{parentName:"p"},"Title")," to your station ID followed by MerakiAR, ex: ",(0,o.kt)("em",{parentName:"p"},"19MerakiAR"))),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"In the ",(0,o.kt)("strong",{parentName:"p"},"Webhook")," section, change the ","*",(0,o.kt)("em",{parentName:"p"},"Webhok")," to the webhook you made.")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Lastly, in the ",(0,o.kt)("strong",{parentName:"p"},"Apply to selected workflows")," section, select the workflow you made earlier.")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Click ",(0,o.kt)("strong",{parentName:"p"},"Save")))),(0,o.kt)("p",null,"We have made a webhook to send our Meraki alert to and setup an automation rule to run our workflow when the webhook is sent something. Now we need to update our workflow to use the data from the webhook."))}m.isMDXComponent=!0},6646:(e,t,r)=>{r.d(t,{Z:()=>a});const a=r.p+"assets/images/trigger-webhook-c162430b5dd40d3a7c1432b67e7ee602.png"},1819:(e,t,r)=>{r.d(t,{Z:()=>a});const a=r.p+"assets/images/triggers-88a7979a41fde65af6a821e745ed4a75.png"}}]);